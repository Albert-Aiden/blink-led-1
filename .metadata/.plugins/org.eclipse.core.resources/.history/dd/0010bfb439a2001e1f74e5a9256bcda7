/**
 ******************************************************************************
 * @file           : main.c
 * @author         : Auto-generated by STM32CubeIDE
 * @brief          : Main program body
 ******************************************************************************
 * @attention
 *
 * Copyright (c) 2023 STMicroelectronics.
 * All rights reserved.
 *
 * This software is licensed under terms that can be found in the LICENSE file
 * in the root directory of this software component.
 * If no LICENSE file comes with this software, it is provided AS-IS.
 *
 ******************************************************************************
 */

#include <stdint.h>
#include <stdio.h>

#if !defined(__SOFT_FP__) && defined(__ARM_FP)
  #warning "FPU is not initialized, but the project is compiling for an FPU. Please initialize the FPU before use."
#endif

int main(void)
{
	uint32_t result;

	    // Mã Assembly thực hiện phép tính y = 2 * 5 + 3 trên STM32F4
	    asm("ldr r0, =2;" );
	    asm("ldr r1, =5;" );
	    asm("mul r0, r0, r1;" );
	    asm("ldr r1, =3;"      // Load giá trị 3 vào thanh ghi R1
		        "add r0, r0, r1;"  // Thêm giá trị của thanh ghi R1 vào thanh ghi R0
		        "mov %0, r0;"
	    		: "=r" (result)
	    	);
	    					// Load giá trị 2 vào thanh ghi R0
	       // "ldr r1, =5;"      // Load giá trị 5 vào thanh ghi R1
	        //"mul r0, r0, r1;"  // Nhân giá trị của thanh ghi R0 với giá trị của thanh ghi R1
	        //"ldr r1, =3;"      // Load giá trị 3 vào thanh ghi R1
	        //"add r0, r0, r1;"  // Thêm giá trị của thanh ghi R1 vào thanh ghi R0
	        //"mov %0, r0;"      // Di chuyển kết quả vào biến result
	            // Gán giá trị của thanh ghi R0 vào biến result
	        :
	        : "r0", "r1"        // Chỉ định thanh ghi R0 và R1 là thanh ghi bị thay đổi
	    );

	    printf("Kết quả: %lu\n", result);

	    return 0;
    /* Loop forever */
	for(;;);
}
